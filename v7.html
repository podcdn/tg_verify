<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cloudflare Turnstile</title>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <style>body,html{height:100%;margin:0;display:flex;justify-content:center;align-items:center;background-color:#f5f5f5;}.turnstile-container{position:relative;width:300px;height:70px;}.loading{position:absolute;z-index:0;width:300px;height:70px;display:flex;justify-content:center;align-items:center;font-size:1.2rem;color:#555;}.cf-turnstile{position:absolute;z-index:1;top:0;left:0;width:100%;height:100%;}</style>
  </head>

  <body>
    <div class="turnstile-container">
      <div class="loading">正在加载中...</div>
      <div class="cf-turnstile" data-sitekey="0x4AAAAAAAxNeV-C6fpE9S5U" data-callback="onTurnstileSuccess" data-error-callback="onTurnstileError"></div>
    </div>

    <script>
        function onTurnstileSuccess(token) {
            window['TelegramWebviewProxy'].postEvent('web_app_data_send', JSON.stringify({data: token}));
        }
        function onTurnstileError() {
            turnstile.reset();
        }
    </script>
  </body>
</html>
