<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cloudflare Turnstile</title>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    
    <style>
      /* 屏幕居中 */
      body, html {
        height: 100%;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #f5f5f5;
      }

      /* Turnstile 容器 */
      .turnstile-container {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }

      /* 加载中的提示 */
      .loading {
        position: absolute;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        color: #555;
      }

      /* 控件的样式 */
      .cf-turnstile {
        visibility: hidden; /* 控件未加载前隐藏 */
      }

      /* 控件加载后显示 */
      .cf-turnstile.loaded {
        visibility: visible;
      }

      /* 加载完成后，隐藏 loading */
      .loading.hidden {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="turnstile-container">
      <!-- 加载中的提示 -->
      <div class="loading">正在加载中...</div>

      <!-- Turnstile 验证控件 -->
      <div class="cf-turnstile" data-sitekey="0x4AAAAAAAxNeV-C6fpE9S5U" data-callback="onTurnstileSuccess"></div>
    </div>

    <script>
      // 监听 Turnstile API 加载完成事件
      window.onload = function() {
        const turnstileElement = document.querySelector('.cf-turnstile');
        const loadingElement = document.querySelector('.loading');
        
        // 当 Turnstile 加载时，显示控件，隐藏加载提示
        turnstileElement.classList.add('loaded');
        loadingElement.classList.add('hidden');
      }

      // Turnstile 验证成功的回调
      function onTurnstileSuccess(token) {
        alert("Turnstile token: " + token);
      }
    </script>
  </body>
</html>
